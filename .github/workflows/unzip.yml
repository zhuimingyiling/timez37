name: Unzip Uploaded File
 
修复：添加写入权限
 
permissions:
contents: write
 
on:
push:
branches: [ main ]
paths:
- '*.zip'
 
jobs:
unzip:
runs-on: ubuntu-latest
steps:
- name: Checkout code
uses: actions/checkout@v4
 
- name: Unzip the file
run: |
# 遍历并解压所有 zip 文件
for file in *.zip; do
if [ -f "$file" ]; then
echo "Unzipping file..."
unzip -o "file" -d "unzipped_(basename "file" .zip)"
fi
done
​
- name: Commit unzipped files
run: |
git config --global user.name 'GitHub Actions'
git config --global user.email 'actions@github.com'
git add .
